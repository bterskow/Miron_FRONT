<template>
    <div class="my-1 mb-3">
      <div class="p-5 text-center bg-body-tertiary rounded-3">
        <img :src="logo" width="200" alt="logo.png" class="bi mt-4 mb-3 logo" @click.prevent="openModalWindow" />
        <p class="col-lg-8 mx-auto fs-5 text-muted">
          –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è <strong>—î–≤—Ä–æ–ø–∞—Ä–∫–∞–Ω—ñ–≤</strong> –ø—ñ–¥ –∫–ª—é—á –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—é –Ω–∞–¥—ñ—î—é —Ç–∞ –±–µ–∑–ø–µ–∫–æ—é!
        </p>
        <div class="d-flex align-center justify-center w-100 gap-2 mb-4">
          <p class="m-0 fst-italic text-decoration-overline">–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è —Ü—ñ–Ω—É –∑—ñ –∑–Ω–∏–∂–∫–æ—é 
            <v-icon aria-hidden="false">
              mdi-arrow-right
            </v-icon>
          </p>
          <button class="btn btn-outline-dark btn-lg px-4 rounded-pill" type="button" @click.prevent="openModalWindow">
            –ó–∞–º–æ–≤–∏—Ç–∏ –¥–∑–≤—ñ–Ω–æ–∫
          </button>
        </div>
      </div>
    </div>

    <div class="album px-3 mb-3">
      <div class="row row-cols-1 row-cols-sm-1 row-cols-md-3 g-3">
        <div class="col">
          <div class="card shadow-sm">
            <div class="card-body">
              <p class="card-text">–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ —Ç–∞ –∫—Ä–∞—Å–∏–≤—ñ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ñ –ø–∞—Ä–∫–∞–Ω–∏, —è–∫—ñ –Ω–∞–∑–∏–≤–∞—é—Ç—å—Å—è —î–≤—Ä–æ–ø–∞—Ä–∫–∞–Ω–∞–º–∏.  –¢–∞–∫—ñ –æ–≥–æ—Ä–æ–¥–∂–µ–Ω–Ω—è –≤–∏—Ä–æ–±–ª—è—é—Ç—å—Å—è –∑ –±–µ—Ç–æ–Ω—É, —ñ –Ω–∞—Ä–∞—Ö–æ–≤—É—é—Ç—å –±–µ–∑–ª—ñ—á –∫–æ–ª—å–æ—Ä—ñ–≤ —Ç–∞ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.  –í—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏ –ø–æ–¥—ñ–±–Ω–∏–π —î–≤—Ä–æ–ø–∞—Ä–∫–∞–Ω —É —Å–µ–±–µ –Ω–∞ –¥–∞—á—ñ –∞–±–æ –≤–¥–æ–º–∞, –≤—ñ–Ω –¥–æ–¥–∞—Å—Ç—å –±–µ–∑–ø–µ–∫–∏ —ñ —è—Å–∫—Ä–∞–≤–æ—Å—Ç—ñ –≤–∞—à–æ—ó —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó, –∑–∞–æ—â–∞–¥–∏–≤—à–∏ –ø—Ä–∏ —Ü—å–æ–º—É –≤–∞—à—ñ –∫–æ—à—Ç–∏. </p> 
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-dark">–ó–∞–º–æ–≤–∏—Ç–∏ –¥–∑–≤—ñ–Ω–æ–∫</button>
                </div>
                <small class="text-body-secondary">
                  <v-icon
                    size="large"
                    color="dark"
                    icon="mdi-arrow-right"
                  ></v-icon>
                </small>
              </div>
            </div>
          </div>
          <img class="bd-placeholder-img card-img-top ing-fliud" :src="content_images[0]" />
        </div>
        <div class="col">
          <div class="card shadow-sm">
            <div class="card-body">
              <p class="card-text">–£ –Ω–∞—à—ñ–π –∫–æ–º–ø–∞–Ω—ñ—ó –º–∏ —Ä–æ–∑—É–º—ñ—î–º–æ, —â–æ –±–∞–≥–∞—Ç–æ —Ö—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —à–ø–∞–∫–ª—ñ–≤–∫—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —î–≤—Ä–æ–∑–∞–±–æ—Ä—ñ–≤. –ü—Ä–æ—Ç–µ –º–∏ –π–¥–µ–º–æ –∫—Ä–æ–∫ –¥–∞–ª—ñ, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—á–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è “ë—Ä—É–Ω—Ç—ñ–≤–∫–∏. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î –Ω–∞—Å –≤—ñ–¥ —ñ–Ω—à–∏—Ö, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞–¥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å –∑–∞—Ö–∏—Å—Ç—É –≤–∞—à–æ–º—É –ø–∞—Ä–∫–∞–Ω—É –≤—ñ–¥ –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–∏—Ö —É–º–æ–≤, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –π–æ–≥–æ —Ç—Ä–∏–≤–∞–ª—É –µ—Å—Ç–µ—Ç–∏—á–Ω—ñ—Å—Ç—å —Ç–∞ –º—ñ—Ü–Ω—ñ—Å—Ç—å.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-dark" @click.prevent="openModalWindow">–ó–∞–º–æ–≤–∏—Ç–∏ –¥–∑–≤—ñ–Ω–æ–∫</button>
                </div>
                <small class="text-body-secondary">
                  <v-icon
                    size="large"
                    color="dark"
                    icon="mdi-arrow-right"
                  ></v-icon>
                </small>
              </div>
            </div>
            <img class="bd-placeholder-img card-img-top ing-fliud" :src="content_images[1]" />
          </div>
        </div>
        <div class="col">
          <div class="card shadow-sm">
            <div class="card-body">
              <p class="card-text">–û–¥–Ω—ñ—î—é –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ —î–≤—Ä–æ–ø–∞—Ä–∫–∞–Ω—É, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –æ–¥–Ω–æ- –∞–±–æ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º - —Ü–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —ñ–º—ñ—Ç—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ –ø–æ–≤–µ—Ä—Ö–Ω—ñ. –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–ª–∞–¥–∞—Ç–∏ —á–∞—Å —Ç–∞ –∫–æ—à—Ç–∏ —É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü–µ–≥–ª—è–Ω–æ–≥–æ –ø–∞—Ä–∫–∞–Ω—É, —â–æ–± –≤–∞—à–∞ –æ–≥–æ—Ä–æ–∂–∞ –º–∞–ª–∞ —Ü–µ–≥–ª—è–Ω–∏–π –≤–∏–≥–ª—è–¥. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–∞—à —î–≤—Ä–æ–ø–∞—Ä–∫–∞–Ω —ñ –Ω–∞—Å–æ–ª–æ–¥–∂—É–π—Ç–µ—Å—å –µ—Å—Ç–µ—Ç–∏–∫–æ—é —Ç–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ—Å—Ç—é –±–µ–∑ –∑–∞–π–≤–∏—Ö –≤–∏—Ç—Ä–∞—Ç.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-dark">–ó–∞–º–æ–≤–∏—Ç–∏ –¥–∑–≤—ñ–Ω–æ–∫</button>
                </div>
                <small class="text-body-secondary">üî•üî•üî•</small>
              </div>
            </div>
            <img class="bd-placeholder-img card-img-top ing-fliud" :src="content_images[2]" />
          </div>
        </div>
      </div>
    </div>

    <div class="chart d-flex align-center justify-center mb-3 px-3 bg-body-tertiary py-3 container">
      <canvas class="canvas"></canvas>
    </div>

    <div class="d-flex align-center justify-center w-100">
      <v-col cols="12" sm="6" md="4">
        <v-btn block rounded="xl" color="primary" size="x-large" @click.prevent="openModalWindow">–í–∞—É, –±–∞–∂–∞—é –∑–∞–º–æ–≤–∏—Ç–∏!</v-btn>
      </v-col>
    </div>
</template>

<script>
  import FirstImage from '@/assets/content/image_1.jpg';
  import SecondImage from '@/assets/content/image_2.jpg';
  import ThirdImage from '@/assets/content/image_3.jpg';
  import Chart from 'chart.js/auto';

  export default {
    name: 'MainContentView',
    props: {
      logo: Object,
    },
    data() {
      return {
        content_images: [
          FirstImage, SecondImage, ThirdImage
        ]
      }
    },
    mounted() {
      this.uploadChart()
    },
    methods: {
      openModalWindow() {
        return this.$emit('openModalWindow');
      },

      uploadChart() {
        const ctx = document.querySelector('.canvas');
        const prevYear = new Date().getFullYear() - 1;
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: ['–°—ñ—á–µ–Ω—å', '–õ—é—Ç–∏–π', '–ë–µ—Ä–µ–∑–µ–Ω—å', '–ö–≤—ñ—Ç–µ–Ω—å', '–¢—Ä–∞–≤–µ–Ω—å', '–ß–µ—Ä–≤–µ–Ω—å', '–õ–∏–ø–µ–Ω—å', '–°–µ—Ä–ø–µ–Ω—å', '–í–µ—Ä–µ—Å–µ–Ω—å', '–ñ–æ–≤—Ç–µ–Ω—å', '–õ–∏—Å—Ç–æ–ø–∞–¥', '–ì—Ä—É–¥–µ–Ω—å'],
            datasets: [{
              label: `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å —É ${prevYear} —Ä–æ—Ü—ñ`,
              data: [6, 3, 9, 9, 17, 25, 44, 33, 29, 18, 31, 12],
              borderWidth: 3,
              borderColor: 'green'
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            },
            plugins: {
              tooltip: {
                displayColors: false,
                callbacks: {
                  label: function (context) {
                    var month = context.label.toLowerCase();
                    var value = context.formattedValue;
                    var text = `–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å –∑–∞ ${month} –º—ñ—Å—è—Ü—å: ${value}`

                    return text
                  },
                }
              },
              legend: {
                display: false,
              },
              subtitle: {
                display: true,
                text: `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å —É ${prevYear} —Ä–æ—Ü—ñ`,
                color: 'black',
                font: {
                  size: 20,
                  family: 'tahoma',
                  weight: 'normal',
                  style: 'italic',
                },
                padding: {
                  bottom: 10
                }
              }
            }
          }
        });
      }
    }
  }
</script>
